函数的this在JS中不同模式下表现不同。

**函数的调用方式决定了this的值**

this不能在执行期间被赋值，并且在每次函数被调用时 this 值也可能不同。

---

* 全局上下文

无论是否在严格模式下，在全局执行上下文中（任何函数体外部）this都指代全局对象

* 函数上下文

在函数内部 this值取决于函数被调用的方式

1. 简单调用 非严格 -> 全局，严格 -> undefined

2. call / apply , 将this值绑定到调用中的特定对象

> 若传递给this的值不是对象，JS会尝试使用内部的ToObject操作将其转换为对象。

3. bind 调用该方法会创建一个具有相同函数体和作用域的函数，在该新函数中，this将永久地被绑定到bind的第一个参数，无论函数是否被调用（bind只生效一次）

4. 箭头函数 this与封闭词法上下文的this保持一致。在全局代码中，被设置为全局对象

* 作为对象方法

当函数作为对象里的方法被调用时，它们的this是调用该函数所在的对象

* 原型链中的this

对于在对象原型链上某处定义的方法，若该方法存在于一个对象的原型链上，那么this指向的是调用这个方法的对象，就像该方法在对象上一样

* getter 和 setter 中的this

同样，用作getter或setter的函数都会把this绑定到设置或设置属性的对象

* 作为构造函数

当一个函数用作构造函数时(使用new关键字)，它的this被绑定到正在构造的新对象

---

* 作为一个DOM事件处理函数

它的this指向触发事件的元素

* 作为一内联事件处理函数

this指向监听器所在的DOM元素
